extends: null

appId: com.yale.demoapp
productName: Yale Philharmonia Library Catalogue-demo
asar: true

# Output directory
directories:
  output: dist/demo

files:
  - src/main/electron.js
  - src/main/preload.js
  - src/main/helpers/**/*.js
  - src/main/ipcHandlers/**/*.js
  - src/server/**/*
  - package.json

extraResources:
  - from: build
    to: build

  - from: config.demo.json
    to: config.json

  - from: src/assets/demo/digital-catalogue
    to: demo-catalogue

  - from: src/assets/demo/demo.db
    to: demo.db

  - from: src/assets/icons
    to: icons

# Windows build settings
win:
  target:
    - portable
  icon: src/assets/icons/music-book.ico
  artifactName: "${productName}-${version}-portable.exe"

# macOS build settings
mac:
  target:
    - dmg
  icon: src/assets/icons/music-book.icns

# Remove CSC_NAME, use CSC_LINK and CSC_KEY_PASSWORD instead
# electron-builder will automatically detect your certificate from CSC_LINK
# Signing will happen using the p12 certificate you pass in via GitHub Actions

# Notarization
afterSign: ./scripts/notarize.js

asarUnpack:
  - "bin/**/*"
